
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://edoardovicenzi.github.io/s2i-kreas/">
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Kreas</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome-to-kreas-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Kreas" class="md-header__button md-logo" aria-label="Kreas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kreas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Welcome to Kreas API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Kreas" class="md-nav__button md-logo" aria-label="Kreas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Kreas
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Welcome to Kreas API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Welcome to Kreas API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      API Documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#products" class="md-nav__link">
    <span class="md-ellipsis">
      /products
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/products">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post" class="md-nav__link">
    <span class="md-ellipsis">
      POST
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#productsid" class="md-nav__link">
    <span class="md-ellipsis">
      /products/:id
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/products/:id">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_1" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put" class="md-nav__link">
    <span class="md-ellipsis">
      PUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orders" class="md-nav__link">
    <span class="md-ellipsis">
      /orders
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/orders">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_2" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post_1" class="md-nav__link">
    <span class="md-ellipsis">
      POST
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordersid" class="md-nav__link">
    <span class="md-ellipsis">
      /orders/:id
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/orders/:id">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_3" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put_1" class="md-nav__link">
    <span class="md-ellipsis">
      PUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_1" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordersidresource" class="md-nav__link">
    <span class="md-ellipsis">
      /orders/:id/:resource
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/orders/:id/:resource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_4" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totalco2" class="md-nav__link">
    <span class="md-ellipsis">
      /totalco2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/totalco2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_5" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      API Documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#products" class="md-nav__link">
    <span class="md-ellipsis">
      /products
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/products">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post" class="md-nav__link">
    <span class="md-ellipsis">
      POST
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#productsid" class="md-nav__link">
    <span class="md-ellipsis">
      /products/:id
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/products/:id">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_1" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put" class="md-nav__link">
    <span class="md-ellipsis">
      PUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orders" class="md-nav__link">
    <span class="md-ellipsis">
      /orders
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/orders">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_2" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post_1" class="md-nav__link">
    <span class="md-ellipsis">
      POST
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordersid" class="md-nav__link">
    <span class="md-ellipsis">
      /orders/:id
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/orders/:id">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_3" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put_1" class="md-nav__link">
    <span class="md-ellipsis">
      PUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_1" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordersidresource" class="md-nav__link">
    <span class="md-ellipsis">
      /orders/:id/:resource
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/orders/:id/:resource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_4" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totalco2" class="md-nav__link">
    <span class="md-ellipsis">
      /totalco2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="/totalco2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_5" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="welcome-to-kreas-api">Welcome to Kreas API</h1>
<p>100% Vanilla PHP
100% Vanilla MySQL
Extra chocolate with docker!</p>
<p>A simple API that implements the REST methodology for request and responses.</p>
<hr />
<h2 id="requirements">Requirements</h2>
<p>There are 2 ways to make this work:</p>
<ul>
<li>Install docker and run docker compose command (tested, see more below)</li>
<li>PHP 8.2 (<strong>NOT TESTED</strong>)</li>
</ul>
<hr />
<h2 id="installation">Installation</h2>
<ol>
<li>With docker</li>
</ol>
<p><code>git clone https://github.com/edoardovicenzi/s2i-kreas.git</code></p>
<p><code>cd s2i-kreas</code></p>
<p><code>docker compose up -d</code></p>
<ol>
<li>Without docker<ul>
<li>You will need to change the information for the databse connection in /app/database/MySQLDatabase.php</li>
</ul>
</li>
</ol>
<hr />
<h2 id="api-documentation">API Documentation</h2>
<p>You can also view the documentation on the <a href="https://github.com/edoardovicenzi/s2i-kreas/wiki">wiki</a> page or the hosted version on <a href="https://edoardovicenzi.github.io/s2i-kreas">this github link</a>.
After the service is running you can start using the API. Here is a reference for each and every supported endpoint.</p>
<p>Accessing not existing endpoints or not existing resources will yield a status code 404. A <code>message</code> property will be return for additional human-readable context on the error.</p>
<p>Each request and each response body <strong>MUST</strong> have a "data" property in which the data is to be put. For reference:</p>
<pre><code class="language-json">{
  &quot;data&quot;: ...
}
</code></pre>
<h3 id="products">/products</h3>
<p>This endpoint is responsible for CRUD operations on the products. It will always return a Product object with the following structure:</p>
<pre><code class="language-json">{
  &quot;product_id&quot;: Integer,
  &quot;product_name&quot;: String,
  &quot;saved_co2&quot;: Integer
}
</code></pre>
<h4 id="get">GET</h4>
<p>This method always returns an array of Product objects. If no elements are found a 404 error is thrown.</p>
<p>For example:</p>
<p><code>GET /products</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: [
    {
      &quot;product_id&quot;: 1,
      &quot;product_name&quot;: &quot;steak&quot;,
      &quot;saved_co2&quot;: 20000
    },
    {
      &quot;product_id&quot;: 2,
      &quot;product_name&quot;: &quot;venison&quot;,
      &quot;saved_co2&quot;: 13456
    },
    {
      &quot;product_id&quot;: 3,
      &quot;product_name&quot;: &quot;porkchop&quot;,
      &quot;saved_co2&quot;: 19427
    }
  ]
}
</code></pre>
<p>If no products are found:</p>
<p><code>Status 404</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Products not found&quot;
}
</code></pre>
<h4 id="post">POST</h4>
<p>This method allows to add a product to the available list. You will need to pass the following properties with the appropriate values.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Value Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>product_name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>saved_co2</td>
<td>Integer</td>
<td>Must be greater than 0</td>
</tr>
</tbody>
</table>
<blockquote>
<p>WARNING two prodcuts can have the same name and they will always refer to different products. This behavior is intended. Might change in the future. Because of this the method will always return a status code 202.</p>
</blockquote>
<p>For example:</p>
<p><code>POST /products</code></p>
<p>With json body:</p>
<pre><code>{
  &quot;data&quot;: {
    &quot;product_name&quot;: &quot;stake&quot;,
    &quot;saved_co2&quot;: 25056
  }
}
</code></pre>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;product_id&quot;: 36,
    &quot;product_name&quot;: &quot;stake&quot;,
    &quot;saved_co2&quot;: 25056
  },
  &quot;location&quot;: &quot;/products/36&quot;,
  &quot;message&quot;: &quot;Item added successfully&quot;
}
</code></pre>
<h3 id="productsid">/products/:id</h3>
<p>Where <code>:id</code> <strong>MUST</strong> be an integer number.</p>
<p>The enpoint will respond with a Product object matching the <code>product_id</code> property with the given id.</p>
<h4 id="get_1">GET</h4>
<p>This method gets the information of a specific product as a Product object.</p>
<p>For example:</p>
<p><code>GET /products/1</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;product_id&quot;: 1,
    &quot;product_name&quot;: &quot;steak&quot;,
    &quot;saved_co2&quot;: 20000
  }
}
</code></pre>
<p>If no products are found:</p>
<p><code>Status 404</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Product not found&quot;
}
</code></pre>
<h4 id="put">PUT</h4>
<p>This method updates the specific resource with new values. This is the list of all required properties:</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Value Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>product_name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>saved_co2</td>
<td>Integer</td>
<td>Must be greater than 0</td>
</tr>
</tbody>
</table>
<blockquote>
<p>WARNING if no resource is found with said id then a new resource is added. It is equivalent do the <code>POST /products</code> method.</p>
</blockquote>
<p>For example:</p>
<p><code>PUT /products/1</code></p>
<p>With json body:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;product_name&quot;: &quot;steak&quot;,
    &quot;saved_co2&quot;: 20000
  }
}
</code></pre>
<p>Will result in:</p>
<p><code>Status 200</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;product_id&quot;: 38,
    &quot;product_name&quot;: &quot;test&quot;,
    &quot;saved_co2&quot;: 156700
  },
  &quot;message&quot;: &quot;Item Updated successfully&quot;
}
</code></pre>
<p>If the resource does not exist it will be created. The response will be:</p>
<p><code>Status 201</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;product_id&quot;: 39,
    &quot;product_name&quot;: &quot;test&quot;,
    &quot;saved_co2&quot;: 156700
  },
  &quot;message&quot;: &quot;Item Added successfully&quot;,
  &quot;location&quot;: &quot;/products/39&quot;
}
</code></pre>
<h4 id="delete">DELETE</h4>
<p>This method deletes the specific resource. Successive calls on the same resource after deleteion will result in a 404 status code.</p>
<p>Deletion will always return the deleted product as a Product object.</p>
<p>For example:</p>
<p><code>DELETE /products/38</code></p>
<p>Will result in:</p>
<p><code>Status 200</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;product_id&quot;: 38,
    &quot;product_name&quot;: &quot;test&quot;,
    &quot;saved_co2&quot;: 156700
  },
  &quot;message&quot;: &quot;Item was deleted successfully&quot;
}
</code></pre>
<p>If the resource was already deleted the response will be:</p>
<p><code>Status 404</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Error Processing Request: Item with id 38 not found.&quot;
}
</code></pre>
<h3 id="orders">/orders</h3>
<p>This endpoint is responsible for CRUD operations on the orders. It will always return an Order object with the following structure:</p>
<pre><code class="language-json">{
  &quot;order_id&quot;: Integer,
  &quot;destination_country&quot;: String,
  &quot;sold_on&quot;: DateTime,
  &quot;products&quot;: [ProductObject]
}
</code></pre>
<p>This is a complete overview of the properties:</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>destination_country</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>sold_on</td>
<td>DateTime</td>
<td>Format is "YYYY-MM-DD HH:mm:ss"</td>
</tr>
<tr>
<td>products</td>
<td>Array</td>
<td>Holds only Product objects</td>
</tr>
</tbody>
</table>
<h4 id="get_2">GET</h4>
<p>This method always returns an array of Order objects. If no elements are found a 404 error is thrown.</p>
<p>For example:</p>
<p><code>GET /orders</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: [
    {
      &quot;order_id&quot;: 94,
      &quot;destination_country&quot;: &quot;USA&quot;,
      &quot;sold_on&quot;: &quot;2025-01-10 14:16:33&quot;,
      &quot;products&quot;: [
        {
          &quot;product_id&quot;: 1,
          &quot;product_name&quot;: &quot;steak&quot;,
          &quot;quantity&quot;: 3000,
          &quot;saved_co2&quot;: 20000
        },
        {
          &quot;product_id&quot;: 1,
          &quot;product_name&quot;: &quot;steak&quot;,
          &quot;quantity&quot;: 3000,
          &quot;saved_co2&quot;: 20000
        },
        {
          &quot;product_id&quot;: 1,
          &quot;product_name&quot;: &quot;steak&quot;,
          &quot;quantity&quot;: 3000,
          &quot;saved_co2&quot;: 20000
        }
      ]
    },
    {
      &quot;order_id&quot;: 95,
      &quot;destination_country&quot;: &quot;Italy&quot;,
      &quot;sold_on&quot;: &quot;2025-01-27 09:52:22&quot;,
      &quot;products&quot;: [
        {
          &quot;product_id&quot;: 1,
          &quot;product_name&quot;: &quot;steak&quot;,
          &quot;quantity&quot;: 320,
          &quot;saved_co2&quot;: 20000
        }
      ]
    }
  ]
}
</code></pre>
<p>If no products are found:</p>
<p><code>Status 404</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;No orders found&quot;
}
</code></pre>
<h4 id="post_1">POST</h4>
<p>This method allows to add an order to the available list. You will need to pass the following properties with the appropriate values.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Value Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>destination_country</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>products</td>
<td>Array</td>
<td>All items must be valid Product objects (see <code>/products</code> endpoint)</td>
</tr>
</tbody>
</table>
<p>For example:</p>
<p><code>POST /orders</code></p>
<p>With json body:</p>
<pre><code>{
  &quot;data&quot;: {
    &quot;destination_country&quot;: &quot;Italy&quot;,
    &quot;products&quot;: [
      {
        &quot;product_id&quot;: 1,
        &quot;quantity&quot;: 320
      }
    ]
  }
}
</code></pre>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;order_id&quot;: 96,
    &quot;destination_country&quot;: &quot;italy&quot;,
    &quot;sold_on&quot;: &quot;2025-01-27 15:41:18&quot;,
    &quot;products&quot;: [
      {
        &quot;product_id&quot;: 1,
        &quot;product_name&quot;: &quot;steak&quot;,
        &quot;quantity&quot;: 320,
        &quot;saved_co2&quot;: 20000
      }
    ]
  },
  &quot;message&quot;: &quot;Order placed successfully&quot;,
  &quot;location&quot;: &quot;/orders/96&quot;
}
</code></pre>
<h3 id="ordersid">/orders/:id</h3>
<p>Where <code>:id</code> <strong>MUST</strong> be an integer number.</p>
<p>The enpoint will respond with an Order object matching the <code>order_id</code> property with the given id.</p>
<h4 id="get_3">GET</h4>
<p>This method gets the information of a specific order as a Orders object.</p>
<p>For example:</p>
<p><code>GET /orders/96</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;order_id&quot;: 94,
    &quot;destination_country&quot;: &quot;USA&quot;,
    &quot;sold_on&quot;: &quot;2025-01-10 14:16:33&quot;,
    &quot;products&quot;: [
      {
        &quot;product_id&quot;: 1,
        &quot;product_name&quot;: &quot;steak&quot;,
        &quot;quantity&quot;: 3000,
        &quot;saved_co2&quot;: 20000
      },
      {
        &quot;product_id&quot;: 2,
        &quot;product_name&quot;: &quot;venison&quot;,
        &quot;quantity&quot;: 1500,
        &quot;saved_co2&quot;: 13456
      },
      {
        &quot;product_id&quot;: 3,
        &quot;product_name&quot;: &quot;porkchop&quot;,
        &quot;quantity&quot;: 1500,
        &quot;saved_co2&quot;: 19427
      }
    ]
  }
}
</code></pre>
<p>If no products are found:</p>
<p><code>Status 404</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Order not found&quot;
}
</code></pre>
<h4 id="put_1">PUT</h4>
<p>This method updates the specific order with new values. All properties are optional.</p>
<blockquote>
<p>WARNING if no resource is found with said id then a new resource is added. It is equivalent do the <code>POST /products</code> method.</p>
</blockquote>
<p>For example:</p>
<p><code>PUT /orders/1</code></p>
<p>With json body:</p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;destination_country&quot;: &quot;USA&quot;,
    &quot;sold_on&quot;: &quot;2025-01-10 14:16:33&quot;,
    &quot;products&quot;: [
      {
        &quot;product_id&quot;: 1,
        &quot;quantity&quot;: 3000
      },
      {
        &quot;product_id&quot;: 2,
        &quot;quantity&quot;: 1500
      }
    ]
  }
}
</code></pre>
<p>Will result in:</p>
<p><code>Status 200</code></p>
<pre><code class="language-json">{
    &quot;data&quot;: {
        &quot;order_id&quot;: 94,
        &quot;destination_country&quot;: &quot;usa&quot;,
        &quot;sold_on&quot;: &quot;2025-01-10 14:16:33&quot;,
        &quot;products&quot;: [
            {
                &quot;product_id&quot;: 1,
                &quot;product_name&quot;: &quot;steak&quot;,
                &quot;quantity&quot;: 3000,
                &quot;saved_co2&quot;: 20000
            },
            {
                &quot;product_id&quot;: 2,
                &quot;product_name&quot;: &quot;venison&quot;,
                &quot;quantity&quot;: 1500,
                &quot;saved_co2&quot;: 13456
            },
            {
                &quot;product_id&quot;: 3,
                &quot;product_name&quot;: &quot;porkchop&quot;,
                &quot;quantity&quot;: 1500,
                &quot;saved_co2&quot;: 19427
            }
        ]
    }
}
</code></pre>
<p>If the resource does not exist it will be created. The response will be:</p>
<p><code>Status 201</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;order_id&quot;: 97,
    &quot;destination_country&quot;: &quot;usa&quot;,
    &quot;sold_on&quot;: &quot;2025-01-27 15:52:47&quot;,
    &quot;products&quot;: [
      {
        &quot;product_id&quot;: 1,
        &quot;product_name&quot;: &quot;steak&quot;,
        &quot;quantity&quot;: 3000,
        &quot;saved_co2&quot;: 20000
      },
      {
        &quot;product_id&quot;: 2,
        &quot;product_name&quot;: &quot;venison&quot;,
        &quot;quantity&quot;: 1500,
        &quot;saved_co2&quot;: 13456
      }
    ]
  },
  &quot;message&quot;: &quot;Order placed successfully&quot;,
  &quot;location&quot;: &quot;/orders/97&quot;
}
</code></pre>
<h4 id="delete_1">DELETE</h4>
<p>This method deletes the specific order. Successive calls on the same resource after deleteion will result in a 404 status code.</p>
<p>Deletion will always return the deleted product as an Order object.</p>
<p>For example:</p>
<p><code>DELETE /products/96</code></p>
<p>Will result in:</p>
<p><code>Status 200</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;order_id&quot;: 96,
    &quot;destination_country&quot;: &quot;italy&quot;,
    &quot;sold_on&quot;: &quot;2025-01-27 15:41:18&quot;,
    &quot;products&quot;: [
      {
        &quot;product_id&quot;: 1,
        &quot;product_name&quot;: &quot;steak&quot;,
        &quot;quantity&quot;: 320,
        &quot;saved_co2&quot;: 20000
      }
    ]
  },
  &quot;message&quot;: &quot;Order was deleted successfully&quot;
}
</code></pre>
<p>If the resource was already deleted the response will be:</p>
<p><code>Status 404</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Error Processing Request: Item with id 96 not found.&quot;
}
</code></pre>
<h3 id="ordersidresource">/orders/:id/:resource</h3>
<h4 id="get_4">GET</h4>
<p>If <code>resource</code> exist within the order then return it. It returns the value of the resource.</p>
<p>For example:</p>
<p><code>GET /orders/94/products</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: [
    {
      &quot;product_id&quot;: 1,
      &quot;product_name&quot;: &quot;steak&quot;,
      &quot;quantity&quot;: 3000,
      &quot;saved_co2&quot;: 20000
    },
    {
      &quot;product_id&quot;: 2,
      &quot;product_name&quot;: &quot;venison&quot;,
      &quot;quantity&quot;: 1500,
      &quot;saved_co2&quot;: 13456
    },
    {
      &quot;product_id&quot;: 3,
      &quot;product_name&quot;: &quot;porkchop&quot;,
      &quot;quantity&quot;: 1500,
      &quot;saved_co2&quot;: 19427
    }
  ]
}
</code></pre>
<p>Example 2:</p>
<p><code>GET /orders/94/destination_country</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: &quot;usa&quot;
}
</code></pre>
<h3 id="totalco2">/totalco2</h3>
<p>This endpoint supports url query parameters to refine your research.</p>
<h4 id="get_5">GET</h4>
<p>Return an integer that is the sum of all the saved co2 from the Orders. Search can be refined with the following URL parameters:</p>
<table>
<thead>
<tr>
<th>Parameter Name</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>from</td>
<td>DateTime</td>
<td>Format is "YYYY-MM-DD HH:mm:ss"</td>
</tr>
<tr>
<td>to</td>
<td>DateTime</td>
<td>Format is "YYYY-MM-DD HH:mm:ss"</td>
</tr>
<tr>
<td>pid</td>
<td>Integer</td>
<td>Is the product id</td>
</tr>
<tr>
<td>country</td>
<td>String</td>
<td>Case insensitive</td>
</tr>
</tbody>
</table>
<p>For example:</p>
<p><code>GET /totalco2</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;saved_co2&quot;: 72883
  }
}
</code></pre>
<p>A failed request returns:</p>
<p><code>Status 400</code></p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Request malformed please retry. Follow The documentation if needed.&quot;
}
</code></pre>
<p>Example 2:</p>
<p><code>GET /totalco2?from=2025-01-01&amp;pid=1&amp;country=usa&amp;to=2025-01-27</code></p>
<p>Will result in:</p>
<p><code>Status 202</code></p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;saved_co2&quot;: 20000
  }
}
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>